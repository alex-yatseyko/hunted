{"ast":null,"code":"import _regeneratorRuntime from \"/Users/Shared/Relocated Items/Security/Work/Web/NextTest/next-test/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/Shared/Relocated Items/Security/Work/Web/NextTest/next-test/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _s = $RefreshSig$();\n\nimport { useState, useCallback } from 'react';\nexport var useHttp = function useHttp() {\n  _s();\n\n  var _useState = useState(false),\n      loading = _useState[0],\n      setLoading = _useState[1];\n\n  var _useState2 = useState(null),\n      error = _useState2[0],\n      setError = _useState2[1];\n\n  var request = useCallback( /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(url) {\n      var method,\n          body,\n          headers,\n          response,\n          data,\n          _args = arguments;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              method = _args.length > 1 && _args[1] !== undefined ? _args[1] : 'GET';\n              body = _args.length > 2 && _args[2] !== undefined ? _args[2] : null;\n              headers = _args.length > 3 && _args[3] !== undefined ? _args[3] : {};\n              setLoading(true);\n              _context.prev = 4;\n              _context.next = 7;\n              return fetch(url, {\n                method: method,\n                body: body,\n                headers: headers\n              });\n\n            case 7:\n              response = _context.sent;\n              _context.next = 10;\n              return response.json();\n\n            case 10:\n              data = _context.sent;\n\n              if (response.ok) {\n                _context.next = 13;\n                break;\n              }\n\n              throw new Error('Something went wrong');\n\n            case 13:\n              setLoading(false);\n              return _context.abrupt(\"return\", data);\n\n            case 17:\n              _context.prev = 17;\n              _context.t0 = _context[\"catch\"](4);\n              setLoading(false);\n              setError(_context.t0);\n              throw _context.t0;\n\n            case 22:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[4, 17]]);\n    }));\n\n    return function (_x) {\n      return _ref.apply(this, arguments);\n    };\n  }(), []);\n  return {\n    loading: loading,\n    request: request,\n    error: error\n  };\n};\n\n_s(useHttp, \"MstwQpYZpw83DP6eQvw4fjC0Jxg=\");","map":{"version":3,"sources":["/Users/Shared/Relocated Items/Security/Work/Web/NextTest/next-test/hooks/http.hook.ts"],"names":["useState","useCallback","useHttp","loading","setLoading","error","setError","request","url","method","body","headers","fetch","response","json","data","ok","Error"],"mappings":";;;;;AAAA,SAASA,QAAT,EAAmBC,WAAnB,QAAsC,OAAtC;AAEA,OAAO,IAAMC,OAAO,GAAG,SAAVA,OAAU,GAAM;AAAA;;AAAA,kBACKF,QAAQ,CAAU,KAAV,CADb;AAAA,MAClBG,OADkB;AAAA,MACTC,UADS;;AAAA,mBAECJ,QAAQ,CAAgB,IAAhB,CAFT;AAAA,MAElBK,KAFkB;AAAA,MAEXC,QAFW;;AAIzB,MAAMC,OAAO,GAAGN,WAAW;AAAA,wEAAC,iBAAOO,GAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAoBC,cAAAA,MAApB,2DAAqC,KAArC;AAA4CC,cAAAA,IAA5C,2DAAwD,IAAxD;AAA8DC,cAAAA,OAA9D,2DAAiG,EAAjG;AACxBP,cAAAA,UAAU,CAAC,IAAD,CAAV;AADwB;AAAA;AAAA,qBAGGQ,KAAK,CAACJ,GAAD,EAAM;AAACC,gBAAAA,MAAM,EAANA,MAAD;AAASC,gBAAAA,IAAI,EAAJA,IAAT;AAAeC,gBAAAA,OAAO,EAAPA;AAAf,eAAN,CAHR;;AAAA;AAGdE,cAAAA,QAHc;AAAA;AAAA,qBAIDA,QAAQ,CAACC,IAAT,EAJC;;AAAA;AAIdC,cAAAA,IAJc;;AAAA,kBAMhBF,QAAQ,CAACG,EANO;AAAA;AAAA;AAAA;;AAAA,oBAOV,IAAIC,KAAJ,CAAU,sBAAV,CAPU;;AAAA;AAUpBb,cAAAA,UAAU,CAAC,KAAD,CAAV;AAVoB,+CAYbW,IAZa;;AAAA;AAAA;AAAA;AAcpBX,cAAAA,UAAU,CAAC,KAAD,CAAV;AACAE,cAAAA,QAAQ,aAAR;AAfoB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAD;;AAAA;AAAA;AAAA;AAAA,OAkBxB,EAlBwB,CAA3B;AAoBA,SAAO;AAAEH,IAAAA,OAAO,EAAPA,OAAF;AAAWI,IAAAA,OAAO,EAAPA,OAAX;AAAoBF,IAAAA,KAAK,EAALA;AAApB,GAAP;AACH,CAzBM;;GAAMH,O","sourcesContent":["import { useState, useCallback } from 'react';\n\nexport const useHttp = () => {\n    const [loading, setLoading] = useState<boolean>(false)\n    const [error, setError] = useState<null | string>(null)\n\n    const request = useCallback(async (url: string, method: string = 'GET', body: any = null, headers: HeadersInit | undefined = {}) => {\n        setLoading(true)\n        try {\n            const response = await fetch(url, {method, body, headers})\n            const data = await response.json()\n\n            if(!response.ok) {\n                throw new Error('Something went wrong')\n            }\n\n            setLoading(false)\n\n            return data\n        } catch (e) {\n            setLoading(false)\n            setError(e)\n            throw e\n        }\n    }, [])  \n\n    return { loading, request, error }\n}"]},"metadata":{},"sourceType":"module"}